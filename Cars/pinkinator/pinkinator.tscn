[gd_scene load_steps=11 format=3 uid="uid://eo506uxokoxq"]

[ext_resource type="Script" uid="uid://dn8cru75adetk" path="res://player_controller/player_controller.gd" id="1_oqayv"]
[ext_resource type="PhysicsMaterial" uid="uid://dioc2dlho64fc" path="res://car_physic_material/car_physic.tres" id="1_srb5a"]
[ext_resource type="ArrayMesh" uid="uid://2w052jjpuubr" path="res://Cars/pinkinator/monster_pink_body.obj" id="1_y6k44"]
[ext_resource type="ArrayMesh" uid="uid://c40jkc0fd2p2d" path="res://Cars/pinkinator/monster_pink_wheel.obj" id="4_srb5a"]
[ext_resource type="PackedScene" uid="uid://1d1e5ll020cp" path="res://huds/on_race_huds/race_hud.tscn" id="5_m5i0a"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_srb5a"]
albedo_color = Color(0.85098, 0, 0.65098, 1)
metallic = 0.78
roughness = 0.32

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_m5i0a"]
albedo_color = Color(0.755386, 0.755386, 0.755386, 1)
metallic = 0.66
roughness = 0.52

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vrx4o"]
metallic = 0.6
roughness = 0.3

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_m5i0a"]
points = PackedVector3Array(2.74519, -0.985112, -7.02858, 2.74519, -1.1535, -7.10719, 2.74519, -1.3421, -7.19563, 2.29519, -1.16013, -7.58307, 2.29519, -0.803466, -7.41602, 1.76079, 0.143544, -7.34864, 1.53713, 1.01166, -6.74643, 1.61455, 0.898301, -6.74643, 2.39788, 0.263205, -5.68378, 2.39788, 0.344746, -5.41426, 2.39788, 0.37259, -5.13491, 2.50433, 0.381208, 3.31992, 2.72315, -0.890311, 5.17569, 2.73283, -0.969201, 5.19534, 2.73283, -1.12201, 5.19534, 1.75326, -1.61225, -7.25038, 1.30326, -1.43061, -7.63781, 2.72315, -1.2009, 5.17569, 2.69734, -1.25857, 5.12375, 2.6624, -1.27979, 5.05075, 1.21132, -1.38785, -7.67993, 0.0269189, -1.23603, -7.88207, 0.230144, 0.185641, -8.02385, 0.350574, 0.255581, -8.01262, 0.934443, 0.636109, -7.67572, 0.71025, 1.35639, -7.34583, 0.72853, 1.45219, -7.24617, 0.677992, 1.52677, -7.13948, 1.48337, 1.77371, -1.81784, 1.80433, 0.875762, 5.4031, 2.50433, 0.353365, 3.60207, 1.44573, 1.77371, -0.2358, 2.50433, 0.27116, 3.873, 2.04788, 0.516779, 5.42415, 2.29627, -0.462383, 5.98004, 2.70218, -0.890311, 5.24166, 2.71132, -0.969201, 5.26132, 2.71132, -1.12201, 5.26132, 2.70218, -1.2009, 5.24166, -1.7548, -1.61225, -7.25038, 2.64465, -1.27979, 5.11532, 2.6253, -1.27979, 5.17849, 2.60433, -1.27979, 5.24166, 2.58121, -1.27979, 5.30483, 2.55648, -1.27979, 5.3666, 2.53014, -1.27979, 5.42696, 2.50164, -1.27979, 5.48732, 2.47154, -1.27979, 5.54628, 2.43982, -1.27979, 5.60524, 2.40648, -1.27979, 5.66279, 2.37154, -1.27979, 5.71894, 2.33498, -1.27979, 5.77509, 2.2968, -1.27979, 5.81159, 2.19519, -1.27979, 5.84668, 2.09304, -1.27979, 5.88178, 1.99035, -1.27979, 5.91547, 1.78498, -1.27979, 5.98004, 1.68122, -1.27979, 6.01233, 1.57799, -1.27979, 6.04181, 1.47423, -1.27979, 6.07128, 1.36993, -1.27979, 6.10076, 1.26563, -1.27979, 6.12884, 1.16132, -1.27979, 6.15551, -1.3048, -1.43061, -7.63781, 2.67799, -1.25857, 5.18832, -0.0284572, -1.23603, -7.88207, -0.231683, 0.185641, -8.02385, -0.352112, 0.255581, -8.01262, 0.627992, 1.26557, -7.41321, -0.711789, 1.35639, -7.34583, -0.730068, 1.45219, -7.24617, -0.679531, 1.52677, -7.13948, 0.572079, 1.56025, -7.05385, -1.4849, 1.77371, -1.81784, -1.80587, 0.875762, 5.4031, 0.524767, 0.225749, 5.88458, 0.926916, -0.297974, 6.21166, 1.2296, -0.462715, 6.3015, 1.26079, -0.462715, 6.29448, 1.46885, -0.462383, 6.23833, 1.67853, -0.462383, 6.17937, 1.88552, -0.462383, 6.1162, 2.06078, -0.462715, 6.06146, 2.09358, -0.462715, 6.05023, 1.86509, 0.786264, 5.40871, 1.92638, 0.696436, 5.41292, 1.41616, 1.77371, -0.159997, 1.35648, 1.77371, -0.00979519, 1.32692, 1.77371, 0.0646038, 1.1124, 1.77371, 0.133389, 0.974228, 1.77371, 0.154445, 0.836594, 1.77371, 0.174097, 2.20917, -1.12201, 6.00811, 2.3124, -1.12201, 5.97162, 2.3124, -0.969201, 5.97162, 2.35164, -0.969201, 5.93512, 2.39304, -0.969201, 5.87897, 2.43283, -0.969201, 5.82141, 2.471, -0.969201, 5.76386, 2.50702, -0.969201, 5.7035, 2.54197, -0.969201, 5.64314, 2.57476, -0.969201, 5.58137, 2.60541, -0.969201, 5.51961, 2.63498, -0.969201, 5.45644, 2.62745, -0.890311, 5.43538, 2.65433, -0.890311, 5.37221, 2.67906, -0.890311, 5.30764, 2.68766, -0.969201, 5.32729, 2.68766, -1.12201, 5.32729, 2.67906, -1.2009, 5.30764, 2.65648, -1.25857, 5.25289, -2.74673, -1.3421, -7.19563, -1.16286, -1.27979, 6.15551, -1.26716, -1.27979, 6.12884, -1.37146, -1.27979, 6.10076, -1.47576, -1.27979, 6.07128, -1.57953, -1.27979, 6.04181, -1.68275, -1.27979, 6.01233, -1.78652, -1.27979, 5.98004, -1.99189, -1.27979, 5.91547, -2.09458, -1.27979, 5.88178, -2.19673, -1.27979, 5.84668, -2.29834, -1.27979, 5.81159, -2.33651, -1.27979, 5.77509, -2.37307, -1.27979, 5.71894, -2.40802, -1.27979, 5.66279, -2.44135, -1.27979, 5.60524, -2.47307, -1.27979, 5.54628, -2.50318, -1.27979, 5.48732, -2.53168, -1.27979, 5.42696, -2.55802, -1.27979, 5.3666, -2.58275, -1.27979, 5.30483, -2.60587, -1.27979, 5.24166, -2.62684, -1.27979, 5.17849, -2.64619, -1.27979, 5.11532, -2.66393, -1.27979, 5.05075, 2.63336, -1.25857, 5.31747, 2.60809, -1.25857, 5.38064, 2.58121, -1.25857, 5.4424, 2.55218, -1.25857, 5.50417, 2.52154, -1.25857, 5.56593, 2.48928, -1.25857, 5.62489, 2.45541, -1.25857, 5.68385, 2.41992, -1.25857, 5.7428, 2.38229, -1.25857, 5.79895, 2.34358, -1.25857, 5.85511, 2.30433, -1.25857, 5.8916, 2.20218, -1.25857, 5.9267, 2.09949, -1.25857, 5.96179, 1.99627, -1.25857, 5.99548, 1.89251, -1.25857, 6.02917, 1.78874, -1.25857, 6.06146, 1.68498, -1.25857, 6.09234, 1.58068, -1.25857, 6.12322, 1.47638, -1.25857, 6.1527, 1.2667, -1.25857, 6.20885, 1.16132, -1.25857, 6.23552, -2.29673, -1.16013, -7.58307, -1.21286, -1.38785, -7.67993, -0.935982, 0.636109, -7.67572, -0.629531, 1.26557, -7.41321, -1.76232, 0.143544, -7.34864, -1.53867, 1.01166, -6.74643, -0.573617, 1.56025, -7.05385, -1.44727, 1.77371, -0.2358, -2.39942, 0.344746, -5.41426, -2.39942, 0.37259, -5.13491, -2.50587, 0.381208, 3.31992, -2.50587, 0.353365, 3.60207, -1.92791, 0.696436, 5.41292, -1.86662, 0.786264, 5.40871, -2.29781, -0.462383, 5.98004, -2.09512, -0.462715, 6.05023, -2.06232, -0.462715, 6.06146, -1.88705, -0.462383, 6.1162, -1.68007, -0.462383, 6.17937, -1.47039, -0.462383, 6.23833, -1.26232, -0.462715, 6.29448, -1.23114, -0.462715, 6.3015, -0.928455, -0.297974, 6.21166, -0.512327, 0.225749, 5.88458, -0.838132, 1.77371, 0.174097, -0.976304, 1.77371, 0.154445, -1.11394, 1.77371, 0.133389, -1.32845, 1.77371, 0.0646038, -1.35802, 1.77371, -0.00979519, -1.4177, 1.77371, -0.159997, 1.16132, -0.969201, 6.31694, 1.16132, -1.12201, 6.31694, 1.37315, -1.12201, 6.26219, 1.47853, -1.12201, 6.23272, 1.68874, -1.12201, 6.17376, 1.89788, -1.12201, 6.10919, 2.00164, -1.12201, 6.0769, 2.10541, -1.12201, 6.04321, 2.10379, -1.2009, 6.02075, 2.31025, -1.2009, 5.95056, 2.35164, -1.12201, 5.93512, 2.39304, -1.12201, 5.87897, 2.43283, -1.12201, 5.82141, 2.471, -1.12201, 5.76386, 2.50702, -1.12201, 5.7035, 2.54197, -1.12201, 5.64314, 2.57476, -1.12201, 5.58137, 2.60541, -1.12201, 5.51961, 2.63498, -1.12201, 5.45644, 2.66186, -0.969201, 5.39186, 2.66186, -1.12201, 5.39186, 2.65433, -1.2009, 5.37221, -2.74673, -1.1535, -7.10719, -2.74673, -0.985112, -7.02858, -2.69888, -1.25857, 5.12375, -2.72469, -1.2009, 5.17569, -2.73436, -1.12201, 5.19534, -1.16286, -1.25857, 6.23552, -1.26824, -1.25857, 6.20885, -1.47792, -1.25857, 6.1527, -1.58222, -1.25857, 6.12322, -1.68652, -1.25857, 6.09234, -1.79028, -1.25857, 6.06146, -1.89404, -1.25857, 6.02917, -1.99781, -1.25857, 5.99548, -2.10103, -1.25857, 5.96179, -2.20372, -1.25857, 5.9267, -2.30587, -1.25857, 5.8916, -2.34512, -1.25857, 5.85511, -2.38383, -1.25857, 5.79895, -2.42146, -1.25857, 5.7428, -2.45694, -1.25857, 5.68385, -2.49082, -1.25857, 5.62489, -2.52307, -1.25857, 5.56593, -2.55372, -1.25857, 5.50417, -2.58275, -1.25857, 5.4424, -2.60963, -1.25857, 5.38064, -2.6349, -1.25857, 5.31747, -2.65802, -1.25857, 5.25289, -2.67952, -1.25857, 5.18832, 2.62745, -1.2009, 5.43538, 2.59895, -1.2009, 5.49855, 2.56885, -1.2009, 5.56172, 2.53659, -1.2009, 5.62208, 2.50272, -1.2009, 5.68244, 2.4667, -1.2009, 5.7414, 2.4296, -1.2009, 5.80036, 2.39035, -1.2009, 5.85791, 2.34949, -1.2009, 5.91406, 1.89627, -1.2009, 6.08813, 1.79197, -1.2009, 6.12042, 1.68767, -1.2009, 6.1513, 1.58283, -1.2009, 6.18218, 1.47799, -1.2009, 6.21166, 1.26724, -1.2009, 6.26781, 1.16132, -1.2009, 6.29448, -2.29673, -0.803466, -7.41602, -1.61609, 0.898301, -6.74643, -2.39942, 0.263205, -5.68378, -2.72469, -0.890311, 5.17569, -2.50587, 0.27116, 3.873, -2.04942, 0.516779, 5.42415, -2.47254, -0.969201, 5.76386, -2.43436, -0.969201, 5.82141, -2.39458, -0.969201, 5.87897, -2.35318, -0.969201, 5.93512, -2.31393, -0.969201, 5.97162, -2.31393, -1.12201, 5.97162, -2.21071, -1.12201, 6.00811, -2.70372, -0.890311, 5.24166, -2.6806, -0.890311, 5.30764, -2.65587, -0.890311, 5.37221, -2.62899, -0.890311, 5.43538, -2.63651, -0.969201, 5.45644, -2.60694, -0.969201, 5.51961, -2.5763, -0.969201, 5.58137, -2.5435, -0.969201, 5.64314, -2.50856, -0.969201, 5.7035, -2.10695, -1.12201, 6.04321, -2.00318, -1.12201, 6.0769, -1.89942, -1.12201, 6.10919, -1.69028, -1.12201, 6.17376, -1.48007, -1.12201, 6.23272, -1.37469, -1.12201, 6.26219, -1.16286, -1.12201, 6.31694, -1.16286, -0.969201, 6.31694, -2.73436, -0.969201, 5.19534, -2.70372, -1.2009, 5.24166, -2.71286, -1.12201, 5.26132, -1.16286, -1.2009, 6.29448, -1.26878, -1.2009, 6.26781, -1.47953, -1.2009, 6.21166, -1.58437, -1.2009, 6.18218, -1.68921, -1.2009, 6.1513, -1.79351, -1.2009, 6.12042, -1.89781, -1.2009, 6.08813, -2.10533, -1.2009, 6.02075, -2.31178, -1.2009, 5.95056, -2.35103, -1.2009, 5.91406, -2.39189, -1.2009, 5.85791, -2.43114, -1.2009, 5.80036, -2.46824, -1.2009, 5.7414, -2.50426, -1.2009, 5.68244, -2.53813, -1.2009, 5.62208, -2.57039, -1.2009, 5.56172, -2.60049, -1.2009, 5.49855, -2.62899, -1.2009, 5.43538, -2.65587, -1.2009, 5.37221, -2.6806, -1.2009, 5.30764, -2.47254, -1.12201, 5.76386, -2.43436, -1.12201, 5.82141, -2.39458, -1.12201, 5.87897, -2.35318, -1.12201, 5.93512, -2.71286, -0.969201, 5.26132, -2.6892, -0.969201, 5.32729, -2.6634, -0.969201, 5.39186, -2.63651, -1.12201, 5.45644, -2.60694, -1.12201, 5.51961, -2.5763, -1.12201, 5.58137, -2.5435, -1.12201, 5.64314, -2.50856, -1.12201, 5.7035, -2.6892, -1.12201, 5.32729, -2.6634, -1.12201, 5.39186)

[sub_resource type="SphereShape3D" id="SphereShape3D_q3ra6"]
radius = 2.354

[node name="pinkinator" type="VehicleBody3D"]
collision_mask = 123
mass = 200.0
physics_material_override = ExtResource("1_srb5a")
gravity_scale = 5.0
center_of_mass_mode = 1
center_of_mass = Vector3(0, -1, 0)
script = ExtResource("1_oqayv")

[node name="MonsterPinkBody" type="MeshInstance3D" parent="."]
transform = Transform3D(0.38, 0, 0, 0, 0.38, 0, 0, 0, 0.38, 0, 0, 0.259857)
mesh = ExtResource("1_y6k44")
surface_material_override/0 = SubResource("StandardMaterial3D_srb5a")
surface_material_override/2 = SubResource("StandardMaterial3D_m5i0a")
surface_material_override/3 = SubResource("StandardMaterial3D_vrx4o")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.38, 0, 0, 0, 0.38, 0, 0, 0, 0.38, 0, 0, 0.259857)
shape = SubResource("ConvexPolygonShape3D_m5i0a")

[node name="wheel_1" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.728332, -0.443, 1.53285)
use_as_steering = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="MonsterPinkWheel" type="MeshInstance3D" parent="wheel_1"]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, 0, 0, 0)
mesh = ExtResource("4_srb5a")
skeleton = NodePath("../..")

[node name="wheel_2" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.728, -0.443, 1.53319)
use_as_steering = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="MonsterPinkWheel" type="MeshInstance3D" parent="wheel_2"]
transform = Transform3D(-0.45, 0, -3.93403e-08, 0, 0.45, 0, 3.93403e-08, 0, -0.45, 0, 0, 0)
mesh = ExtResource("4_srb5a")
skeleton = NodePath("../..")

[node name="wheel_3" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.728, -0.459, -1.72381)
use_as_traction = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="MonsterPinkWheel" type="MeshInstance3D" parent="wheel_3"]
transform = Transform3D(0.45, 0, 0, 0, 0.45, 0, 0, 0, 0.45, 0, 0, 0)
mesh = ExtResource("4_srb5a")
skeleton = NodePath("../..")

[node name="wheel_4" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.728, -0.459, -1.72381)
use_as_traction = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="MonsterPinkWheel" type="MeshInstance3D" parent="wheel_4"]
transform = Transform3D(-0.45, 0, -3.93403e-08, 0, 0.45, 0, 3.93403e-08, 0, -0.45, 0, 0, 0)
mesh = ExtResource("4_srb5a")
skeleton = NodePath("../..")

[node name="checkpoint_sensor" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.259857)
collision_layer = 0
collision_mask = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="checkpoint_sensor"]
shape = SubResource("SphereShape3D_q3ra6")
debug_color = Color(0.941176, 0.890196, 1, 0.615686)

[node name="RaceHud" parent="." instance=ExtResource("5_m5i0a")]

[connection signal="area_entered" from="checkpoint_sensor" to="." method="_on_checkpoint_sensor_area_entered"]
