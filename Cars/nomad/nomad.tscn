[gd_scene load_steps=10 format=3 uid="uid://b8rfttgi51mw5"]

[ext_resource type="PhysicsMaterial" uid="uid://dioc2dlho64fc" path="res://car_physic_material/car_physic.tres" id="1_07jqt"]
[ext_resource type="ArrayMesh" uid="uid://d1xkvgaassmlq" path="res://Cars/nomad/nomad_body.obj" id="1_clnsf"]
[ext_resource type="Script" uid="uid://dn8cru75adetk" path="res://player_controller/player_controller.gd" id="2_m0uk8"]
[ext_resource type="Texture2D" uid="uid://pgx01q58gm1s" path="res://Cars/nomad/camoflaje.png" id="2_py1xi"]
[ext_resource type="ArrayMesh" uid="uid://c2denl30f4rur" path="res://Cars/nomad/nomad_wheel.obj" id="3_py1xi"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qn7pd"]
albedo_texture = ExtResource("2_py1xi")
metallic = 0.52
roughness = 0.46

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_py1xi"]
albedo_color = Color(0.118581, 0.118581, 0.118581, 1)
metallic = 0.56
roughness = 0.7

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_07jqt"]
points = PackedVector3Array(2.58638, -1.60602, 6.69137, 2.58638, -1.9535, 6.69137, 2.58638, -1.53929, 6.67426, 1.63045, -1.59007, 6.69137, -2.58618, -1.9535, 6.69137, 2.58638, -2.01729, 6.67304, 1.63045, -1.52335, 6.67426, 2.58638, -1.48516, 6.62781, 1.61627, -0.0855767, 6.16948, 1.60868, -0.0994257, 6.18659, 1.57728, -0.0784423, 6.18659, 1.54285, -0.0650132, 6.18659, 1.50741, -0.0608165, 6.18659, -1.63076, -1.59007, 6.69137, -2.58618, -1.60602, 6.69137, -2.58618, -2.01729, 6.67304, 2.58638, -2.06429, 6.62659, -1.63076, -1.52335, 6.67426, 2.58638, -1.45788, 6.56426, 2.51499, -0.215673, 5.40436, 2.38335, -0.0217876, 5.50825, 2.32259, 0.0197592, 5.53147, 1.58235, -0.0629148, 6.16948, 1.68361, 0.0529125, 5.97758, 1.54539, -0.0486462, 6.16948, 1.50741, -0.04403, 6.16948, -1.50772, -0.0608165, 6.18659, -2.58618, -1.53929, 6.67426, -2.58618, -2.06429, 6.62659, 2.58638, -2.08108, 6.56304, 2.58638, -1.40458, 6.22814, 2.51499, -0.142231, 5.21613, 1.9312, 2.04338, 1.78409, 1.83703, 2.16257, 1.78409, 2.24816, 0.0503945, 5.54858, 1.82791, 2.1655, 1.78409, 1.55247, 0.0969772, 5.97025, 1.29375, 0.104951, 6.0167, -1.50772, -0.04403, 6.16948, -1.54316, -0.0650132, 6.18659, -2.58618, -1.48516, 6.62781, -1.57759, -0.0784423, 6.18659, -1.60899, -0.0994257, 6.18659, -1.61658, -0.0855767, 6.16948, -2.58618, -2.08108, 6.56304, 2.58638, -2.08108, 6.02647, 2.53423, -0.469989, -4.66198, 2.53423, -0.0616558, -4.27942, 2.53423, -0.0616558, -1.80684, 1.9312, 2.04338, -4.24398, 1.83703, 2.16257, -4.24398, 1.70893, 2.20621, 1.62764, 1.72513, 2.18649, 1.7132, -1.82822, 2.1655, 1.78409, -1.29405, 0.104951, 6.0167, -1.5462, -0.0486462, 6.16948, -2.58618, -1.45788, 6.56426, -2.3229, 0.0197592, 5.53147, -2.38365, -0.0217876, 5.50825, -2.5153, -0.215673, 5.40436, -1.58266, -0.0629148, 6.16948, -1.68392, 0.0529125, 5.97758, -2.58618, -2.08108, 6.02647, 1.64311, -1.92035, -3.00097, 2.46385, -1.41088, -4.62043, 2.53423, -1.49229, -0.857162, 2.46385, -1.39661, -4.68032, 2.46385, -1.29295, -4.88077, 2.46385, -0.687795, -4.88077, 1.2016, 0.246798, -5.55177, 1.13172, 0.473416, -5.51388, 1.0178, 0.682409, -5.47844, 0.865399, 0.865383, -5.44788, 0.679579, 1.0152, -5.42222, 0.467938, 1.12683, -5.40266, 1.70893, 2.20621, -4.24398, -1.70924, 2.20621, 1.62764, -1.72544, 2.18649, 1.7132, -1.55278, 0.0969772, 5.97025, -1.83734, 2.16257, 1.78409, -2.58618, -1.40458, 6.22814, -2.5153, -0.142231, 5.21613, -2.24847, 0.0503945, 5.54858, -1.93151, 2.04338, 1.78409, -2.53454, -0.469989, -4.66198, -2.53454, -1.49229, -0.857162, -2.46416, -1.41088, -4.62043, -1.64341, -1.92035, -3.00097, -0.0014205, -1.23672, -5.75466, 0.243638, -1.2128, -5.751, 0.242119, -1.20062, -5.77666, 0.476545, -1.13054, -5.76444, 0.692237, -1.01681, -5.74611, 0.681098, -0.995409, -5.76078, 0.866918, -0.84475, -5.73511, 1.01932, -0.661356, -5.70455, 2.38537, -1.17041, -4.93943, 2.40157, -1.10956, -4.93943, 2.40157, -0.871188, -4.93943, 1.2021, -0.224905, -5.63122, 1.22539, 0.010946, -5.59088, 1.19704, 0.0138838, -5.59577, 1.17324, 0.24428, -5.55666, 1.10489, 0.465443, -5.51877, 0.994004, 0.66898, -5.48455, 0.84464, 0.847337, -5.45522, 0.663377, 0.9938, -5.42955, 0.456799, 1.10249, -5.41122, 0.238069, 1.19566, -5.39166, -1.70924, 2.20621, -4.24398, -0.000914097, 1.21874, -5.38799, -1.83734, 2.16257, -4.24398, -2.53454, -0.0616558, -1.80684, -2.53454, -0.0616558, -4.27942, -1.93151, 2.04338, -4.24398, -2.46416, -1.39661, -4.68032, -2.46416, -0.687795, -4.88077, -2.46416, -1.29295, -4.88077, -0.245973, -1.2128, -5.751, -0.000914097, -1.22455, -5.78033, -0.000914097, -1.20021, -5.795, 0.238575, -1.1767, -5.79133, 0.468951, -1.10746, -5.78033, 0.666415, -0.970229, -5.762, 0.848184, -0.822507, -5.73633, 0.996536, -0.642891, -5.70577, 1.10691, -0.438514, -5.67155, 1.13274, -0.451944, -5.66911, 1.17476, -0.216512, -5.63366, -0.845962, 0.848177, -5.45522, 9.84669e-05, 1.1923, -5.39655, 0.233006, 1.16922, -5.40022, -0.239897, 1.19566, -5.39166, -0.469766, 1.12725, -5.40266, -0.233315, 1.16964, -5.40022, -0.681408, 1.01562, -5.42222, -0.867227, 0.865383, -5.44788, -1.02014, 0.682409, -5.47844, -1.13355, 0.473836, -5.51388, -1.20393, 0.246798, -5.55177, -0.244454, -1.20062, -5.77666, -1.22773, 0.010946, -5.59088, -1.20444, -0.225325, -5.63122, -2.40188, -0.871188, -4.93943, -2.40188, -1.10956, -4.93943, -2.38568, -1.17041, -4.93943, -1.02165, -0.661776, -5.70455, -0.868746, -0.845169, -5.73633, -0.682927, -0.995829, -5.76078, -0.694572, -1.01681, -5.74611, -0.47888, -1.13054, -5.76444, -0.240403, -1.1767, -5.79133, -0.000407696, -1.17041, -5.795, 0.234018, -1.14733, -5.79133, 0.459331, -1.07976, -5.78033, -0.667231, -0.970649, -5.762, -0.997857, -0.64373, -5.707, -0.664193, 0.99422, -5.42955, -0.457614, 1.10291, -5.41122, -1.17659, -0.216932, -5.63489, -1.19887, 0.0138838, -5.59577, -1.17507, 0.24428, -5.55666, -0.995326, 0.669819, -5.48455, -1.10621, 0.465862, -5.51877, -0.470779, -1.10788, -5.78033, -1.13456, -0.452363, -5.66911, -0.849, -0.823347, -5.73633, -0.234328, -1.14775, -5.79133, -0.45964, -1.08018, -5.78033, -1.10874, -0.438934, -5.67155)

[sub_resource type="SphereShape3D" id="SphereShape3D_xld48"]
radius = 2.404

[node name="Nomad" type="VehicleBody3D"]
collision_mask = 507
mass = 200.0
physics_material_override = ExtResource("1_07jqt")
gravity_scale = 5.0
center_of_mass_mode = 1
center_of_mass = Vector3(0, -1, 0)
script = ExtResource("2_m0uk8")

[node name="NomadBody" type="MeshInstance3D" parent="."]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, 0)
mesh = ExtResource("1_clnsf")
surface_material_override/3 = SubResource("StandardMaterial3D_qn7pd")
surface_material_override/4 = SubResource("StandardMaterial3D_py1xi")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_07jqt")

[node name="wheel_1" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.886, -0.816465, 1.73704)
use_as_steering = true
wheel_roll_influence = 1.5
wheel_radius = 0.505
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="NomadWheel" type="MeshInstance3D" parent="wheel_1"]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, 0)
mesh = ExtResource("3_py1xi")

[node name="wheel_2" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.88, -0.816863, 1.73678)
use_as_steering = true
wheel_roll_influence = 1.5
wheel_radius = 0.505
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="NomadWheel" type="MeshInstance3D" parent="wheel_2"]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, 0)
mesh = ExtResource("3_py1xi")

[node name="wheel_3" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.886, -0.829664, -1.15361)
use_as_traction = true
wheel_roll_influence = 1.5
wheel_radius = 0.505
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="NomadWheel" type="MeshInstance3D" parent="wheel_3"]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, 0)
mesh = ExtResource("3_py1xi")

[node name="wheel_4" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.88, -0.829664, -1.15361)
use_as_traction = true
wheel_roll_influence = 1.5
wheel_radius = 0.505
wheel_friction_slip = 10.0
suspension_stiffness = 100.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="NomadWheel" type="MeshInstance3D" parent="wheel_4"]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, 0)
mesh = ExtResource("3_py1xi")

[node name="checkpoint_sensor" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.199844)
collision_layer = 0
collision_mask = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="checkpoint_sensor"]
shape = SubResource("SphereShape3D_xld48")
debug_color = Color(0.941176, 0.890196, 1, 0.615686)

[connection signal="area_entered" from="checkpoint_sensor" to="." method="_on_checkpoint_sensor_area_entered"]
