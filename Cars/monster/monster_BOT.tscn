[gd_scene load_steps=17 format=3 uid="uid://cwnt3bqppy33s"]

[ext_resource type="PhysicsMaterial" uid="uid://dioc2dlho64fc" path="res://car_physic_material/car_physic.tres" id="1_vjh5r"]
[ext_resource type="Script" uid="uid://bub163oegeem3" path="res://BOT_sistem/BOTS_for_race.gd" id="2_6upv0"]
[ext_resource type="ArrayMesh" uid="uid://bxwmwjrdole88" path="res://Cars/monster/monster_body.obj" id="3_yx6ai"]
[ext_resource type="Texture2D" uid="uid://bsvbcilt60rk8" path="res://Cars/monster/oxido_4_texture.png" id="4_vjh5r"]
[ext_resource type="Texture2D" uid="uid://f60vfj15y5gq" path="res://Cars/monster/llamas_1_texture.png" id="5_u1da8"]
[ext_resource type="ArrayMesh" uid="uid://cvstq2c8y4e3e" path="res://Cars/f1_70s/f1-70s_rear_wheel.obj" id="6_6upv0"]
[ext_resource type="AudioStream" uid="uid://bxjt0pivj7myd" path="res://sounds/engine_sounds/V2_sound.ogg" id="7_6upv0"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yx6ai"]
albedo_texture = ExtResource("4_vjh5r")
metallic = 0.52
roughness = 0.59

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_f63vb"]
albedo_color = Color(0.157274, 0.157274, 0.157274, 1)
metallic = 0.87
roughness = 0.3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u1da8"]
albedo_color = Color(0, 0, 0, 1)
metallic = 0.7
roughness = 0.19

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5771k"]
albedo_texture = ExtResource("4_vjh5r")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xojob"]
albedo_color = Color(7.895, 7.143, 6.391, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2i4q1"]
albedo_color = Color(10.151, 0, 0.05, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_stfrs"]
albedo_texture = ExtResource("5_u1da8")
metallic = 0.56
roughness = 0.48

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_xhylq"]
points = PackedVector3Array(2.06857, -0.499576, -0.779667, 1.97701, -1.07511, -0.466779, 1.5844, -0.316978, -3.4766, 1.35993, 2.06991, -1.86256, 1.61803, 1.46438, -0.917795, 1.51147, 0.309553, 3.02764, 1.54712, -0.566316, 3.12837, 1.58966, -1.37432, 0.056735, 1.0751, -0.671675, -3.94212, 1.42962, -0.731291, 3.41531, 1.00744, -0.500326, -4.05506, 1.00136, 0.506773, -4.09398, 1.06173, 0.582137, -3.93525, 1.22339, 2.23976, -1.86409, 1.40977, 2.09091, -1.13376, 1.28093, 0.488776, 3.1795, 1.4592, 0.249562, 3.16577, 1.42962, -0.327852, 3.41531, -1.67478, -1.33645, 0.0979447, 1.35061, -1.27833, 0.672589, -1.35227, -1.27833, 0.672589, -1.04961, -0.568941, -4.01385, -0.000220299, -0.748164, 3.65952, -0.918739, 0.195195, -4.13672, 0.977858, 0.178698, -4.10467, 0.854282, 0.509023, -4.09627, 0.949497, 2.45611, -1.78167, 0.992039, 2.27126, -1.17955, 1.19381, 0.585137, 3.02382, -0.000220299, 0.574638, 3.35884, -0.000220299, 0.350797, 3.46568, -0.000220299, -0.344724, 3.65952, -1.97866, -1.07511, -0.466779, -1.43006, -0.731291, 3.41531, -1.58079, -0.318478, -3.49797, -0.98235, 0.506399, -4.09627, -0.863636, 2.43548, -1.8038, -0.87255, 2.28738, -1.13453, -1.25989, 0.516522, 3.16958, -1.43006, -0.327852, 3.41531, -2.07023, -0.499201, -0.78043, -1.54756, -0.555443, 3.12837, -1.3624, 2.07066, -1.8618, -1.06338, 0.575763, -3.93983, -1.22181, 2.23939, -1.85569, -1.02449, 2.41599, -1.7748, -1.37253, 2.11116, -1.10934, -1.44222, 0.456906, 3.01925, -1.43371, 0.3313, 3.18103, -1.48557, 0.0973347, 3.0223, -1.61968, 1.46438, -0.917795)

[sub_resource type="SphereShape3D" id="SphereShape3D_b4yu3"]
radius = 2.404

[node name="MonsterBot" type="VehicleBody3D"]
collision_mask = 1787
mass = 200.0
physics_material_override = ExtResource("1_vjh5r")
gravity_scale = 5.0
center_of_mass_mode = 1
center_of_mass = Vector3(0, -2, 0)
script = ExtResource("2_6upv0")
dificulty = 2

[node name="MonsterBody" type="MeshInstance3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.489594, 0.0987265)
mesh = ExtResource("3_yx6ai")
surface_material_override/0 = SubResource("StandardMaterial3D_yx6ai")
surface_material_override/1 = SubResource("StandardMaterial3D_f63vb")
surface_material_override/2 = SubResource("StandardMaterial3D_u1da8")
surface_material_override/3 = SubResource("StandardMaterial3D_5771k")
surface_material_override/4 = SubResource("StandardMaterial3D_xojob")
surface_material_override/5 = SubResource("StandardMaterial3D_2i4q1")
surface_material_override/6 = SubResource("StandardMaterial3D_stfrs")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0.489594, 0.0987265)
visible = false
shape = SubResource("ConvexPolygonShape3D_xhylq")

[node name="wheel_1" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.813088, -0.12013, 1.47386)
use_as_steering = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 200.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="F1-70sRearWheel" type="MeshInstance3D" parent="wheel_1"]
transform = Transform3D(0.28, 0, 0, 0, 0.28, 0, 0, 0, 0.28, 0, 0, 0)
mesh = ExtResource("6_6upv0")
skeleton = NodePath("../..")

[node name="wheel_2" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.813, -0.12013, 1.4742)
use_as_steering = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 200.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="F1-70sRearWheel" type="MeshInstance3D" parent="wheel_2"]
transform = Transform3D(0.28, 0, 0, 0, 0.28, 0, 0, 0, 0.28, 0, 0, 0)
mesh = ExtResource("6_6upv0")
skeleton = NodePath("../..")

[node name="wheel_3" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.812756, -0.0251866, -1.54083)
use_as_traction = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 200.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="F1-70sRearWheel" type="MeshInstance3D" parent="wheel_3"]
transform = Transform3D(0.28, 0, 0, 0, 0.28, 0, 0, 0, 0.28, 0, 0, 0)
mesh = ExtResource("6_6upv0")
skeleton = NodePath("../..")

[node name="wheel_4" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.813, -0.0251866, -1.54083)
use_as_traction = true
wheel_roll_influence = 1.5
wheel_radius = 0.57
wheel_friction_slip = 10.0
suspension_stiffness = 200.0
suspension_max_force = 100000.0
damping_compression = 10.0
damping_relaxation = 10.0

[node name="F1-70sRearWheel" type="MeshInstance3D" parent="wheel_4"]
transform = Transform3D(0.28, 0, 0, 0, 0.28, 0, 0, 0, 0.28, 0, 0, 0)
mesh = ExtResource("6_6upv0")
skeleton = NodePath("../..")

[node name="checkpoint_sensor" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.199844)
collision_layer = 0
collision_mask = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="checkpoint_sensor"]
shape = SubResource("SphereShape3D_b4yu3")
debug_color = Color(0.941176, 0.890196, 1, 0.615686)

[node name="shock_sensor" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.42195, 2.01917)
target_position = Vector3(0, 0, 1.165)
collision_mask = 2

[node name="shock_timer_sensor" type="Timer" parent="."]

[node name="engine_sound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("7_6upv0")
unit_size = 9.9
max_distance = 50.0

[connection signal="area_entered" from="checkpoint_sensor" to="." method="_on_checkpoint_sensor_area_entered"]
[connection signal="timeout" from="shock_timer_sensor" to="." method="_on_shock_timer_sensor_timeout"]
