[gd_scene load_steps=15 format=3 uid="uid://bhehqj2450xtc"]

[ext_resource type="Script" uid="uid://bbkomqcnkihxo" path="res://huds/car_selection/car_selection.gd" id="1_u64g1"]
[ext_resource type="Script" uid="uid://bd046eokvcnu2" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="5_6rdnw"]
[ext_resource type="Script" uid="uid://csjccrhj5wnx7" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3d.gd" id="6_mycvf"]
[ext_resource type="Script" uid="uid://8umksf8e80fw" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="7_btktd"]
[ext_resource type="PackedScene" uid="uid://k6nx4p6ccnvk" path="res://huds/money_display.tscn" id="24_ehe8b"]
[ext_resource type="AudioStream" uid="uid://c73ukd0knm1h7" path="res://sounds/hud/pop_sound.ogg" id="49_xc6r1"]
[ext_resource type="AudioStream" uid="uid://4w5boyjy3sj4" path="res://sounds/hud/reject_sound.ogg" id="50_kn6nc"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_dbumn"]
sky_top_color = Color(0.461087, 0.641883, 0.858997, 1)
sky_horizon_color = Color(0.631155, 0.676354, 0.730632, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.631155, 0.676354, 0.730632, 1)

[sub_resource type="Sky" id="Sky_alync"]
sky_material = SubResource("ProceduralSkyMaterial_dbumn")

[sub_resource type="Environment" id="Environment_vlmii"]
background_mode = 2
sky = SubResource("Sky_alync")
sky_custom_fov = 1.5

[sub_resource type="Resource" id="Resource_c3i15"]
script = ExtResource("7_btktd")
ease = 0
metadata/_custom_type_script = "uid://8umksf8e80fw"

[sub_resource type="Animation" id="Animation_u64g1"]
length = 0.001

[sub_resource type="Animation" id="Animation_wibte"]
resource_name = "rotate"
length = 10.0
loop_mode = 1

[sub_resource type="AnimationLibrary" id="AnimationLibrary_h8baf"]
_data = {
&"RESET": SubResource("Animation_u64g1"),
&"rotate": SubResource("Animation_wibte")
}

[node name="CarSelection" type="Node3D"]
script = ExtResource("1_u64g1")

[node name="WorldEnvironment2" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vlmii")

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.899558, -0.282519, 0.333135, 0, 0.762668, 0.64679, -0.436802, 0.581825, -0.686064, 0, 0, 0)
light_bake_mode = 1
shadow_bias = 0.0
shadow_normal_bias = 1.885
shadow_transmittance_bias = -9.494
shadow_blur = 0.0
directional_shadow_mode = 0
sky_mode = 1

[node name="vehicles" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.999999, 0, 0, 0, 0.92184865, 0.38750762, 0, -0.38750762, 0.92184865, 0, 2.145, 4.175)
far = 20.0

[node name="PhantomCameraHost" type="Node" parent="Camera3D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("5_6rdnw")
metadata/_custom_type_script = "uid://bd046eokvcnu2"

[node name="PhantomCamera3D" type="Node3D" parent="." node_paths=PackedStringArray("follow_target", "look_at_target")]
transform = Transform3D(0.999999, 0, 0, 0, 0.92184865, 0.38750762, 0, -0.38750762, 0.92184865, 0, 2.145, 4.175)
top_level = true
script = ExtResource("6_mycvf")
follow_mode = 2
follow_target = NodePath("")
look_at_mode = 2
look_at_target = NodePath("")
tween_resource = SubResource("Resource_c3i15")
follow_offset = Vector3(0, 1.455, 4.175)
look_at_offset = Vector3(0, -0.3, 0)
metadata/_custom_type_script = "uid://csjccrhj5wnx7"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_h8baf")
}

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="left" type="Button" parent="CanvasLayer"]
anchors_preset = -1
anchor_top = 0.222222
anchor_right = 0.124069
anchor_bottom = 0.777778
grow_vertical = 2
theme_override_font_sizes/font_size = 154
text = "<<"
metadata/_edit_use_anchors_ = true

[node name="right" type="Button" parent="CanvasLayer"]
anchors_preset = -1
anchor_left = 0.875931
anchor_top = 0.222222
anchor_right = 1.0
anchor_bottom = 0.777778
grow_horizontal = 0
grow_vertical = 2
theme_override_font_sizes/font_size = 154
text = ">>"
metadata/_edit_use_anchors_ = true

[node name="select" type="Button" parent="CanvasLayer"]
anchors_preset = -1
anchor_left = 0.375931
anchor_top = 0.861111
anchor_right = 0.624069
anchor_bottom = 1.0
offset_right = 6.10352e-05
grow_horizontal = 2
grow_vertical = 0
theme_override_font_sizes/font_size = 60
text = "id_17"
metadata/_edit_use_anchors_ = true

[node name="go_back" type="Button" parent="CanvasLayer"]
anchors_preset = -1
anchor_right = 0.186104
anchor_bottom = 0.166667
offset_left = 5.0
offset_top = 581.0
offset_right = 5.0
offset_bottom = 581.0
theme_override_font_sizes/font_size = 60
text = "id_15"
metadata/_edit_use_anchors_ = true

[node name="car_name_label" type="Label" parent="CanvasLayer"]
anchors_preset = -1
anchor_left = 0.487593
anchor_right = 0.512407
anchor_bottom = 0.0777778
grow_horizontal = 2
theme_override_font_sizes/font_size = 60
horizontal_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="car_num" type="Label" parent="CanvasLayer"]
anchors_preset = -1
anchor_left = 0.868486
anchor_right = 0.8933
anchor_bottom = 0.106944
grow_horizontal = 0
size_flags_horizontal = 6
theme_override_font_sizes/font_size = 60
metadata/_edit_use_anchors_ = true

[node name="MoneyDisplay" parent="CanvasLayer" instance=ExtResource("24_ehe8b")]

[node name="pop_sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("49_xc6r1")

[node name="reject_sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("50_kn6nc")

[connection signal="button_up" from="CanvasLayer/left" to="." method="_on_left_button_up"]
[connection signal="button_up" from="CanvasLayer/right" to="." method="_on_right_button_up"]
[connection signal="button_up" from="CanvasLayer/select" to="." method="_on_select_button_up"]
[connection signal="button_up" from="CanvasLayer/go_back" to="." method="_on_go_back_button_up"]
